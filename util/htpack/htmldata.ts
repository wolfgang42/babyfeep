/*
https://html.spec.whatwg.org/dev/indices.html

const elements = Array.from(
	document.getElementById('elements-3').nextElementSibling.tBodies[0].rows)
	.flatMap(r =>
		Array.from(r.childNodes[0].querySelectorAll('code'))
		.map(t => t.innerText)
	)
JSON.stringify(elements.map((v, i) => [v, i+1]))
*/
export const ELEMENT_NAME_UNKNOWN = 0
export const ELEMENTS_BY_NAME = new Map([
	// 0: reserved for unknown element name
	["a",1],
	["abbr",2],
	["address",3],
	["area",4],
	["article",5],
	["aside",6],
	["audio",7],
	["b",8],
	["base",9],
	["bdi",10],
	["bdo",11],
	["blockquote",12],
	["body",13],
	["br",14],
	["button",15],
	["canvas",16],
	["caption",17],
	["cite",18],
	["code",19],
	["col",20],
	["colgroup",21],
	["data",22],
	["datalist",23],
	["dd",24],
	["del",25],
	["details",26],
	["dfn",27],
	["dialog",28],
	["div",29],
	["dl",30],
	["dt",31],
	["em",32],
	["embed",33],
	["fieldset",34],
	["figcaption",35],
	["figure",36],
	["footer",37],
	["form",38],
	["h1",39],
	["h2",40],
	["h3",41],
	["h4",42],
	["h5",43],
	["h6",44],
	["head",45],
	["header",46],
	["hgroup",47],
	["hr",48],
	["html",49],
	["i",50],
	["iframe",51],
	["img",52],
	["input",53],
	["ins",54],
	["kbd",55],
	["label",56],
	["legend",57],
	["li",58],
	["link",59],
	["main",60],
	["map",61],
	["mark",62],
	["math",63],
	["menu",64],
	["meta",65],
	["meter",66],
	["nav",67],
	["noscript",68],
	["object",69],
	["ol",70],
	["optgroup",71],
	["option",72],
	["output",73],
	["p",74],
	["picture",75],
	["pre",76],
	["progress",77],
	["q",78],
	["rp",79],
	["rt",80],
	["ruby",81],
	["s",82],
	["samp",83],
	["script",84],
	["search",85],
	["section",86],
	["select",87],
	["slot",88],
	["small",89],
	["source",90],
	["span",91],
	["strong",92],
	["style",93],
	["sub",94],
	["summary",95],
	["sup",96],
	["svg",97],
	["table",98],
	["tbody",99],
	["td",100],
	["template",101],
	["textarea",102],
	["tfoot",103],
	["th",104],
	["thead",105],
	["time",106],
	["title",107],
	["tr",108],
	["track",109],
	["u",110],
	["ul",111],
	["var",112],
	["video",113],
	["wbr",114],
])
export const ELEMENTS_BY_ID = reverseMap(ELEMENTS_BY_NAME)

/*
https://html.spec.whatwg.org/dev/indices.html

const attributes = Array.from(new Set(
	Array.from(document.getElementById('attributes-3').nextElementSibling.tBodies[0].rows)
	.map(r => r.childNodes[0].querySelector('code')?.innerText)
	.filter(v => v != null)
))
JSON.stringify(attributes.map((v, i) => [v, i+1]))
*/
export const ATTRIBUTE_NAME_UNKNOWN = 0
export const ATTRIBUTES_BY_NAME = new Map([
	// 0 reserved for unknown attribute
	["abbr",1],
	["accept",2],
	["accept-charset",3],
	["accesskey",4],
	["action",5],
	["allow",6],
	["allowfullscreen",7],
	["alt",8],
	["as",9],
	["async",10],
	["autocapitalize",11],
	["autocomplete",12],
	["autofocus",13],
	["autoplay",14],
	["blocking",15],
	["charset",16],
	["checked",17],
	["cite",18],
	["class",19],
	["color",20],
	["cols",21],
	["colspan",22],
	["content",23],
	["contenteditable",24],
	["controls",25],
	["coords",26],
	["crossorigin",27],
	["data",28],
	["datetime",29],
	["decoding",30],
	["default",31],
	["defer",32],
	["dir",33],
	["dirname",34],
	["disabled",35],
	["download",36],
	["draggable",37],
	["enctype",38],
	["enterkeyhint",39],
	["fetchpriority",40],
	["for",41],
	["form",42],
	["formaction",43],
	["formenctype",44],
	["formmethod",45],
	["formnovalidate",46],
	["formtarget",47],
	["headers",48],
	["height",49],
	["hidden",50],
	["high",51],
	["href",52],
	["hreflang",53],
	["http-equiv",54],
	["id",55],
	["imagesizes",56],
	["imagesrcset",57],
	["inert",58],
	["inputmode",59],
	["integrity",60],
	["is",61],
	["ismap",62],
	["itemid",63],
	["itemprop",64],
	["itemref",65],
	["itemscope",66],
	["itemtype",67],
	["kind",68],
	["label",69],
	["lang",70],
	["list",71],
	["loading",72],
	["loop",73],
	["low",74],
	["max",75],
	["maxlength",76],
	["media",77],
	["method",78],
	["min",79],
	["minlength",80],
	["multiple",81],
	["muted",82],
	["name",83],
	["nomodule",84],
	["nonce",85],
	["novalidate",86],
	["open",87],
	["optimum",88],
	["pattern",89],
	["ping",90],
	["placeholder",91],
	["playsinline",92],
	["popover",93],
	["popovertarget",94],
	["popovertargetaction",95],
	["poster",96],
	["preload",97],
	["readonly",98],
	["referrerpolicy",99],
	["rel",100],
	["required",101],
	["reversed",102],
	["rows",103],
	["rowspan",104],
	["sandbox",105],
	["scope",106],
	["selected",107],
	["shadowrootmode",108],
	["shadowrootdelegatesfocus",109],
	["shadowrootclonable",110],
	["shape",111],
	["size",112],
	["sizes",113],
	["slot",114],
	["span",115],
	["spellcheck",116],
	["src",117],
	["srcdoc",118],
	["srclang",119],
	["srcset",120],
	["start",121],
	["step",122],
	["style",123],
	["tabindex",124],
	["target",125],
	["title",126],
	["translate",127],
	["type",128],
	["usemap",129],
	["value",130],
	["width",131],
	["wrap",132],
])
export const ATTRIBUTES_BY_ID = reverseMap(ATTRIBUTES_BY_NAME)

function reverseMap<T>(map: Map<T, number>): T[] {
	const ret: T[] = []
	for (const [k, v] of map.entries()) {
		if (v in ret) throw new Error('duplicate entry')
		ret[v] = k
	}
	return ret
}
